<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoRa y LoRaWAN - RCM</title>
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Hoja de estilos personalizada externa -->
    <link rel="stylesheet" href="public/styles.css">
</head>
<body class="bg-slate-50 text-slate-900">

    <!-- Decoraci√≥n de fondo -->
    <div class="fixed inset-0 z-0 bg-tech-grid opacity-40 pointer-events-none"></div>
    <canvas id="bgCanvas" class="fixed inset-0 z-0 opacity-30 pointer-events-none"></canvas>

    <!-- Contenedor Principal de Diapositivas -->
    <div class="slide-container" id="slider">

        <!-- SLIDE 1: PORTADA -->
        <div class="slide active">
            <div class="glass-panel p-12 max-w-4xl w-full text-center relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-900 via-blue-600 to-cyan-400"></div>
                <div class="mb-6">
                    <span class="inline-block px-4 py-1 rounded-full bg-blue-100 text-blue-800 text-sm font-bold tracking-wide">ULPGC</span>
                    <span class="inline-block px-4 py-1 rounded-full bg-slate-100 text-slate-600 text-sm font-bold tracking-wide ml-2">2025-2026</span>
                </div>
                <h1 class="text-6xl font-extrabold text-blue-950 mb-4 tracking-tight">LoRa y LoRaWAN</h1>
                <h2 class="text-2xl text-blue-700 font-light mb-8">Redes de Comunicaciones M√≥viles</h2>
                
                <div class="grid grid-cols-2 gap-8 text-left mt-12 border-t border-slate-200 pt-8">
                    <div>
                        <p class="text-xs uppercase text-slate-500 font-bold mb-1">Autor</p>
                        <p class="text-lg font-semibold text-slate-800">Andrea Nazaret Gonz√°lez Maroto</p>
                    </div>
                    <div class="text-right">
                        <p class="text-xs uppercase text-slate-500 font-bold mb-1">Profesor</p>
                        <p class="text-lg font-semibold text-slate-800">Roberto Dom√≠nguez Sarmiento</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 2: INTRODUCCI√ìN -->
        <div class="slide">
            <div class="flex flex-col md:flex-row items-center gap-12 max-w-6xl w-full">
                <div class="w-full md:w-1/2 text-left">
                    <h2 class="text-4xl font-bold text-blue-900 mb-6">Introducci√≥n al IoT</h2>
                    <p class="text-xl text-slate-700 leading-relaxed mb-6">
                        El <strong>Internet de las Cosas (IoT)</strong> conecta miles de dispositivos. Sin embargo, las redes tradicionales no siempre son la soluci√≥n.
                    </p>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0">1</span>
                            <span>Necesidad de <strong>eficiencia energ√©tica</strong>.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center mr-3 flex-shrink-0">2</span>
                            <span>Requisito de <strong>gran cobertura</strong>.</span>
                        </li>
                    </ul>
                </div>
                <div class="w-full md:w-1/2 flex justify-center">
                    <div class="relative w-80 h-80 bg-blue-50 rounded-full flex items-center justify-center border-4 border-blue-100 shadow-xl">
                        <div class="absolute inset-0 rounded-full border border-blue-200 animate-[spin_10s_linear_infinite]"></div>
                        <div class="text-6xl text-blue-600">IoT</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 3: PROBLEMA -->
        <div class="slide">
            <h2 class="text-4xl font-bold text-blue-900 mb-12">La Necesidad de Nuevas Redes</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl w-full">
                <div class="glass-panel p-8 text-center border-b-4 border-red-400">
                    <div class="text-5xl mb-4">üì∂</div>
                    <h3 class="text-xl font-bold mb-2">WiFi / Bluetooth</h3>
                    <p class="text-slate-600 text-sm">Corto alcance.</p>
                </div>
                <div class="glass-panel p-8 text-center border-b-4 border-orange-400">
                    <div class="text-5xl mb-4">üì±</div>
                    <h3 class="text-xl font-bold mb-2">3G / 4G / 5G</h3>
                    <p class="text-slate-600 text-sm">Alto consumo y coste.</p>
                </div>
                <div class="glass-panel p-8 text-center border-b-4 border-green-500 transform scale-105 shadow-2xl relative">
                    <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-3 py-1 rounded text-xs font-bold">SOLUCI√ìN</div>
                    <div class="text-5xl mb-4 text-green-600">üåê</div>
                    <h3 class="text-xl font-bold mb-2">LPWAN</h3>
                    <p class="text-slate-600 text-sm">Largo alcance + Bajo Consumo.</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 4: TECNOLOG√çA LORA -->
        <div class="slide">
            <div class="max-w-5xl w-full flex flex-col md:flex-row gap-12 items-center">
                <div class="flex-1">
                    <h2 class="text-4xl font-bold text-blue-900 mb-6">¬øQu√© es LoRa?</h2>
                    <p class="mb-4 text-slate-700"><strong>LoRa (Long Range)</strong> es la modulaci√≥n de la capa f√≠sica.</p>
                    <div class="bg-blue-900 text-white p-4 rounded-lg shadow-lg">
                        <p class="font-mono text-sm">> Modulaci√≥n robusta (CSS) inmune al ruido.</p>
                    </div>
                </div>
                <div class="flex-1 relative h-64 w-full bg-slate-900 rounded-xl overflow-hidden shadow-inner flex items-center justify-center">
                    <canvas id="chirpCanvas" width="400" height="200"></canvas>
                </div>
            </div>
        </div>

        <!-- SLIDE 5: LORA VS LORAWAN -->
        <div class="slide">
            <h2 class="text-5xl font-bold text-blue-900 mb-2">LoRa vs LoRaWAN</h2>
            <p class="text-slate-500 mb-8">Pasa el rat√≥n sobre los bloques para entender la diferencia.</p>
            
            <div class="flex flex-row items-center justify-center gap-12 w-full max-w-6xl">
                <!-- Stack -->
                <div class="relative w-80 h-96 flex flex-col justify-end">
                    
                    <!-- App Layer -->
                    <div onmouseenter="showStackInfo('app')" class="layer-block w-full h-20 bg-cyan-400 text-blue-900 flex items-center justify-center rounded-t-xl shadow-lg mb-1 animate-pulse border-2 border-white">
                        <span class="text-2xl font-bold">Aplicaci√≥n</span>
                    </div>
                    
                    <!-- LoRaWAN Layer -->
                    <div onmouseenter="showStackInfo('lorawan')" class="layer-block w-full h-24 bg-blue-600 text-white flex items-center justify-center rounded-xl shadow-lg mb-4 border-2 border-white animate-bounce" style="animation-duration: 3s;">
                        <span class="text-2xl font-bold">LoRaWAN (MAC)</span>
                    </div>
                    
                    <!-- LoRa Layer -->
                    <div onmouseenter="showStackInfo('lora')" class="layer-block w-full h-24 bg-blue-900 text-white flex items-center justify-center rounded-b-xl shadow-lg border-2 border-white">
                        <span class="text-2xl font-bold">LoRa (F√≠sica)</span>
                    </div>
                </div>

                <!-- Info Panel -->
                <div class="w-96 h-64 relative perspective-1000">
                    <div id="stack-info-panel" class="glass-panel w-full h-full p-6 flex flex-col justify-center transition-all duration-300 transform">
                        <h3 id="stack-title" class="text-2xl font-bold text-blue-800 mb-4">Arquitectura por Capas</h3>
                        <p id="stack-desc" class="text-slate-600 leading-relaxed">
                            Interact√∫a con la pila para ver los detalles espec√≠ficos de cada tecnolog√≠a.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 6: ESTADO ACTUAL -->
        <div class="slide">
            <h2 class="text-4xl font-bold text-blue-900 mb-8">Estado Actual</h2>
            <div class="grid grid-cols-2 gap-8 max-w-6xl w-full">
                <div class="glass-panel p-6">
                    <h3 class="text-lg font-bold text-blue-700 mb-2">Adopci√≥n Global</h3>
                    <div class="h-48 bg-slate-200 rounded flex items-center justify-center text-4xl font-extrabold text-blue-800">
                        170+ Pa√≠ses
                    </div>
                </div>
                <div class="glass-panel p-6">
                    <h3 class="text-lg font-bold text-blue-700 mb-2">Sectores</h3>
                    <div class="grid grid-cols-2 gap-4 mt-4 text-center">
                        <div class="bg-blue-50 p-2 rounded">Smart Cities</div>
                        <div class="bg-blue-50 p-2 rounded">Agricultura</div>
                        <div class="bg-blue-50 p-2 rounded">Industria</div>
                        <div class="bg-blue-50 p-2 rounded">Log√≠stica</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 7: ARQUITECTURA -->
        <div class="slide">
            <div class="w-full max-w-6xl">
                <div class="flex justify-between items-end mb-4">
                    <h2 class="text-3xl font-bold text-blue-900">Arquitectura de Red</h2>
                    <button onclick="startNetSim()" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow transition flex items-center gap-2 text-sm">
                        <span>üì°</span> Enviar Datos
                    </button>
                </div>
                
                <div class="relative w-full h-96 bg-white/60 backdrop-blur rounded-2xl shadow-xl border border-slate-200 p-8">
                    
                    <!-- Background Connections -->
                    <svg class="absolute inset-0 w-full h-full z-0 pointer-events-none stroke-slate-300 stroke-2" style="z-index: 0;">
                        <line x1="15%" y1="30%" x2="35%" y2="50%" stroke-dasharray="5,5" />
                        <line x1="15%" y1="50%" x2="35%" y2="50%" stroke-dasharray="5,5" />
                        <line x1="15%" y1="70%" x2="35%" y2="50%" stroke-dasharray="5,5" />
                        <line x1="35%" y1="50%" x2="60%" y2="50%" stroke-width="4" stroke="#94a3b8" />
                        <line x1="60%" y1="50%" x2="85%" y2="50%" stroke-width="4" stroke="#94a3b8" />
                    </svg>

                    <!-- Components Grid -->
                    <div class="grid grid-cols-4 h-full items-center justify-items-center relative z-10">
                        <!-- Col 1: End Devices -->
                        <div class="flex flex-col gap-8">
                            <div class="w-12 h-12 bg-green-100 rounded-full border-2 border-green-500 flex items-center justify-center text-xl shadow-sm" title="Sensor Agua">üíß</div>
                            <div class="w-12 h-12 bg-green-100 rounded-full border-2 border-green-500 flex items-center justify-center text-xl shadow-sm" title="Sensor Temp">üå°Ô∏è</div>
                            <div class="w-12 h-12 bg-green-100 rounded-full border-2 border-green-500 flex items-center justify-center text-xl shadow-sm" title="GPS Tracker">üìç</div>
                            <p class="text-xs font-bold text-slate-500 mt-2 text-center">Dispositivos Finales</p>
                        </div>
                        <!-- Col 2: Gateway -->
                        <div class="flex flex-col items-center">
                            <div class="w-24 h-32 bg-slate-800 rounded-lg border-b-4 border-blue-500 flex flex-col items-center justify-center shadow-lg relative">
                                <div class="w-1 h-8 bg-slate-600 absolute -top-8 left-4"></div>
                                <div class="w-1 h-8 bg-slate-600 absolute -top-8 right-4"></div>
                                <span class="text-3xl">üì∂</span>
                                <span class="text-white text-xs font-mono mt-2">GW-01</span>
                            </div>
                            <p class="text-xs font-bold text-slate-500 mt-4">Gateway / Concentrador</p>
                        </div>
                        <!-- Col 3: Network Server -->
                        <div class="flex flex-col items-center">
                            <div class="w-32 h-32 bg-blue-100 rounded-full border-4 border-blue-600 flex flex-col items-center justify-center shadow-2xl relative overflow-hidden">
                                <div class="absolute inset-0 bg-blue-200 opacity-20 animate-pulse"></div>
                                <span class="text-4xl z-10">‚òÅÔ∏è</span>
                                <span class="text-blue-900 font-bold text-xs z-10 mt-1">THE THINGS<br>NETWORK</span>
                            </div>
                            <p class="text-xs font-bold text-slate-500 mt-4">Network Server (Cerebro)</p>
                        </div>
                        <!-- Col 4: App Server -->
                        <div class="flex flex-col items-center">
                            <div class="w-24 h-24 bg-white rounded-xl border-2 border-cyan-500 flex items-center justify-center shadow-md">
                                <span class="text-4xl">üíª</span>
                            </div>
                            <p class="text-xs font-bold text-slate-500 mt-4">Servidor de Aplicaci√≥n</p>
                        </div>
                    </div>

                    <!-- Animation Packet -->
                    <div id="sim-packet" class="packet top-1/2 left-0"></div>

                </div>
            </div>
        </div>

        <!-- SLIDE 8: ESTRUCTURA DE LA TRAMA -->
        <div class="slide">
            <div class="w-full max-w-6xl">
                <h2 class="text-3xl font-bold text-blue-900 mb-2">Explorador de Trama LoRaWAN</h2>
                <p class="text-slate-500 mb-8">Haz clic en los bloques de la trama para ver su funci√≥n t√©cnica.</p>

                <!-- Frame Bar -->
                <div class="flex w-full h-24 rounded-xl overflow-hidden shadow-2xl border border-slate-300 text-white font-bold text-sm md:text-base select-none">
                    
                    <div onclick="showFrameInfo('preamble')" class="frame-segment w-[10%] bg-slate-500 flex flex-col items-center justify-center border-r border-slate-400">
                        <span>Pre√°mbulo</span>
                    </div>

                    <div onclick="showFrameInfo('phdr')" class="frame-segment w-[10%] bg-slate-600 flex flex-col items-center justify-center border-r border-slate-500">
                        <span>PHDR</span>
                        <span class="text-[10px] opacity-70">CRC</span>
                    </div>

                    <div onclick="showFrameInfo('mhdr')" class="frame-segment w-[8%] bg-yellow-600 flex flex-col items-center justify-center border-r border-yellow-500">
                        <span>MHDR</span>
                    </div>

                    <div onclick="showFrameInfo('devaddr')" class="frame-segment w-[15%] bg-emerald-600 flex flex-col items-center justify-center border-r border-emerald-500">
                        <span>DevAddr</span>
                    </div>

                    <div onclick="showFrameInfo('fctrl')" class="frame-segment w-[8%] bg-emerald-500 flex flex-col items-center justify-center border-r border-emerald-400">
                        <span>FCtrl</span>
                    </div>

                    <div onclick="showFrameInfo('fcnt')" class="frame-segment w-[10%] bg-emerald-700 flex flex-col items-center justify-center border-r border-emerald-600">
                        <span>FCnt</span>
                    </div>

                    <div onclick="showFrameInfo('fport')" class="frame-segment w-[5%] bg-purple-600 flex flex-col items-center justify-center border-r border-purple-500">
                        <span>Port</span>
                    </div>

                    <div onclick="showFrameInfo('payload')" class="frame-segment w-[24%] bg-blue-600 flex flex-col items-center justify-center border-r border-blue-500 relative overflow-hidden">
                        <span class="relative z-10">FRM Payload</span>
                        <div class="absolute inset-0 bg-black opacity-10 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuMSIvPjwvc3ZnPg==')]"></div>
                    </div>

                    <div onclick="showFrameInfo('mic')" class="frame-segment w-[10%] bg-red-600 flex flex-col items-center justify-center">
                        <span>MIC</span>
                    </div>
                </div>

                <!-- Info Card Container -->
                <div class="mt-8 h-40 w-full relative">
                    <div id="frame-detail-card" class="absolute inset-0 bg-white rounded-xl shadow-lg border-l-8 border-slate-300 p-6 transition-all duration-300">
                        <h3 id="frame-title" class="text-2xl font-bold text-slate-800 mb-2">Selecciona un campo</h3>
                        <div class="flex gap-4 mb-2">
                             <span id="frame-size" class="text-xs font-mono bg-slate-100 px-2 py-1 rounded text-slate-500">Tama√±o: --</span>
                             <span id="frame-layer" class="text-xs font-mono bg-slate-100 px-2 py-1 rounded text-slate-500">Capa: --</span>
                        </div>
                        <p id="frame-desc" class="text-slate-600">Haz clic en las secciones de la barra superior para revelar su prop√≥sito en el protocolo LoRaWAN.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 9: CLASES -->
        <div class="slide">
            <h2 class="text-3xl font-bold text-blue-900 mb-4">Clases A, B y C</h2>
            <div class="flex gap-4 mb-6">
                <button onclick="showClass('A')" class="px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-900 rounded font-bold transition">Clase A</button>
                <button onclick="showClass('B')" class="px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-900 rounded font-bold transition">Clase B</button>
                <button onclick="showClass('C')" class="px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-900 rounded font-bold transition">Clase C</button>
            </div>
            <div class="w-full max-w-5xl h-64 bg-white border border-slate-300 rounded-lg relative overflow-hidden shadow-inner" id="class-display">
                <div class="absolute top-1/2 left-0 w-full h-1 bg-slate-200"></div>
                <div id="timeline-content" class="w-full h-full relative"></div>
            </div>
            <div id="class-desc" class="mt-4 text-center max-w-3xl text-lg font-medium text-blue-800">Selecciona una clase.</div>
        </div>

        <!-- SLIDE 10: SEGURIDAD -->
        <div class="slide">
            <h2 class="text-4xl font-bold text-blue-900 mb-8">Seguridad</h2>
            <div class="flex flex-col md:flex-row gap-8 items-center max-w-6xl">
                <div class="flex-1 space-y-6">
                    <div class="flex items-center gap-4 bg-white p-4 rounded-lg shadow border-l-4 border-indigo-500">
                        <div class="text-3xl">üîë</div>
                        <div>
                            <h4 class="font-bold text-indigo-900">NwkSKey</h4>
                            <p class="text-sm text-slate-600">Integridad de red (MIC).</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-4 bg-white p-4 rounded-lg shadow border-l-4 border-cyan-500">
                        <div class="text-3xl">üóùÔ∏è</div>
                        <div>
                            <h4 class="font-bold text-cyan-900">AppSKey</h4>
                            <p class="text-sm text-slate-600">Encriptaci√≥n de datos.</p>
                        </div>
                    </div>
                </div>
                <div class="flex-1 flex justify-center">
                    <div class="text-9xl">üîí</div>
                </div>
            </div>
        </div>

        <!-- SLIDE 11: FUTURO -->
        <div class="slide">
            <h2 class="text-4xl font-bold text-blue-900 mb-8">Futuro</h2>
            <div class="grid grid-cols-2 gap-6 max-w-5xl">
                <div class="bg-white p-6 rounded shadow border-t-4 border-blue-500">
                    <h3 class="font-bold">Roaming</h3>
                    <p class="text-sm text-slate-600">Saltar entre redes.</p>
                </div>
                <div class="bg-white p-6 rounded shadow border-t-4 border-blue-500">
                    <h3 class="font-bold">Sat√©lites</h3>
                    <p class="text-sm text-slate-600">Cobertura total.</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 12: CONCLUSI√ìN -->
        <div class="slide">
            <h2 class="text-5xl font-bold text-blue-900 mb-6">Conclusi√≥n</h2>
            <p class="text-2xl text-slate-700 max-w-4xl text-center">
                "LoRaWAN llena un vac√≠o cr√≠tico en el IoT: conectar lo desconectado de forma eficiente."
            </p>
        </div>

        <!-- SLIDE 13: BIBLIOGRAF√çA -->
        <div class="slide">
            <h2 class="text-3xl font-bold text-blue-900 mb-6">Bibliograf√≠a</h2>
            <ul class="text-left space-y-4 max-w-4xl text-slate-700 text-sm">
                <li class="p-3 bg-white shadow rounded">[1] Prometec. Lora y lorawan.</li>
                <li class="p-3 bg-white shadow rounded">[7] INCIBE. LoRaWAN y su aportaci√≥n al IIoT.</li>
                <li class="p-3 bg-white shadow rounded">[14] LoRa Alliance. Specifications.</li>
            </ul>
        </div>

        <!-- SLIDE 14: FIN -->
        <div class="slide">
            <h1 class="text-6xl font-bold text-blue-950 mb-4">Gracias</h1>
            <p>Andrea Nazaret Gonz√°lez Maroto</p>
        </div>

         <!-- SLIDE 15: EXTRA -->
         <div class="slide">
            <h1 class="text-4xl font-bold text-blue-950 mb-4">Preguntas</h1>
        </div>

    </div>

    <!-- Controles de Navegaci√≥n -->
    <div class="fixed bottom-8 left-0 w-full flex justify-center items-center gap-8 z-50">
        <button onclick="prevSlide()" class="p-3 bg-white/80 backdrop-blur rounded-full shadow-lg hover:bg-blue-100 text-blue-900">‚¨ÖÔ∏è</button>
        <div id="dots" class="flex gap-2"></div>
        <button onclick="nextSlide()" class="p-3 bg-white/80 backdrop-blur rounded-full shadow-lg hover:bg-blue-100 text-blue-900">‚û°Ô∏è</button>
    </div>

    <!-- Script Principal -->
    <script src="public/script.js"></script>

</body>
</html>